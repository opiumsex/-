const socket = io();

function sendMessage() {
    const username = document.getElementById('username').value;
    const message = document.getElementById('messageInput').value;
    
    if(username && message) {
        socket.emit('sendMessage', {
            username: username,
            message: message
        });
        
        document.getElementById('messageInput').value = '';
    }
}

// Получение сообщений от сервера
socket.on('newMessage', (data) => {
    const messages = document.getElementById('messages');
    const messageElement = document.createElement('div');
    messageElement.innerHTML = `<strong>${data.username}</strong> (${data.timestamp}): ${data.message}`;
    messages.appendChild(messageElement);
    messages.scrollTop = messages.scrollHeight;
});